<div class="learn-container">
    @if(questions$ | async; as questions){
    @if(questions.length > 0){
    <div class="game-section">
        <button class="btn" (click)="previousQuestion()" [disabled]="activeQuestionId === 0">atras</button>
        <h1>{{ questions[activeQuestionId].text }}</h1>
        <p class="subtitle">Learn garifuna by answering these questions</p>
        <button class="btn" (click)="nextQuestion()"
            [disabled]="activeQuestionId === questions.length - 1">adelante</button>
    </div>
    <div class="grid grid-flow-row grid-cols-4 gap-4">
        <div class="row-span-2 col-span-2">
            <img class="w-120 items-center" [src]="questions[activeQuestionId].image" alt="Placeholder image">
        </div>
        @for (option of questions[activeQuestionId].options; track $index) {
        <div class="col">
            <button (click)="checkAnswer(questions[activeQuestionId],option,questions.length === activeQuestionId+1)"
                class="btn text-white font-bold h-full w-full text-wrap" [ngClass]="{
                    'bg-blue-500 hover:bg-blue-700': !questions[activeQuestionId].completed,
                    'bg-green-500 hover:bg-green-700': questions[activeQuestionId].completed && questions[activeQuestionId].answer === option,
                    'bg-gray-500 hover:bg-gray-700': questions[activeQuestionId].completed && questions[activeQuestionId].answer != option
                }">{{ option | titlecase }} </button>
        </div>
        }
    </div>
    }@else{
    <h1>No data yet...</h1>
    }
    }
</div>